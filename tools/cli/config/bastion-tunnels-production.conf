
# Bastion tunnel configuration for inqu-aire production (SSM based)
BASTION_TARGET="i-??"
AWS_PROFILE="??"
AWS_REGION="us-east-1"

# Each entry: name, local_port, remote_host(optional), remote_port, bind_address(optional), target(optional), aws_profile(optional), aws_region(optional)
# 
# 터널 설정:
# - rds: Write DB (localhost:6000)
# - rds-read-replica: Read Replica (localhost:6001, 유럽 리전)
# - redis: Redis 캐시 (localhost:7000, localhost:7001)
#   * ElastiCache Redis의 SSL/TLS 설정에 따라 프로토콜 선택:
#     - SSL/TLS 활성화 시: rediss://user:password@localhost:7000
#     - SSL/TLS 비활성화 시: redis://user:password@localhost:7000
#
# 로컬 개발 환경에서 Read Replica 사용 시:
# READ_DATABASE_URL=postgresql://user:password@localhost:6001/dbname
#
# Redis 연결 시 (ElastiCache 설정 확인 필요):
# REDIS_URL=rediss://user:password@localhost:7000  # SSL/TLS 활성화 시
# REDIS_URL=redis://user:password@localhost:7000   # SSL/TLS 비활성화 시
#
# DataGrip Redis 연결 설정:
# 1. Data Sources > + > Redis
# 2. Host: localhost
# 3. Port: 7000 (us-east-1) 또는 7001 (eu-west-1)
# 4. Advanced 탭에서 타임아웃 설정:
#    - Connection timeout: 30000 (30초)
#    - Command timeout: 10000 (10초)
#    - Socket timeout: 30000 (30초)
# 5. SSL/TLS: ElastiCache 설정에 따라 체크/해제
declare -a TUNNELS=(
  "name=rds local_port=6000 remote_host-?? remote_port=5432"
  "name=rds-read-replica local_port=6001 remote_host-?? remote_port=5432"
  "name=redis-us-east-1 local_port=7000 remote_host-?? remote_port=6379"
  "name=redis-us-west-1 local_port=7001 remote_host-?? remote_port=6379"
)
